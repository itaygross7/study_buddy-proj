{% extends "base.html" %}

{% block title %}爪专转 转专砖{% endblock %}

{% block content %}
<div class="space-y-8 text-right">
    <!-- Input Card -->
    <div class="bg-white/80 p-6 rounded-2xl shadow-md">
        <div class="flex items-start space-x-4 space-x-reverse">
            <img src="{{ url_for('serve_avner', filename='avner_looking_at_page_acratching_head.jpeg') }}" alt="专 注 转专砖" class="h-16 w-16 flex-shrink-0">
            <div>
                <h2 class="text-xl font-bold text-warm-brown">爪专转 转专砖</h2>
                <p class="text-ink-brown/80 mt-1">住专   转  拽住驻 转专爪 专转 转专砖,  爪专 转 注专 驻专 Mermaid.js.</p>
            </div>
        </div>
        
        <div class="mt-6">
            <form id="diagram-form"
                  hx-post="{{ url_for('diagram_bp.generate_diagram') }}"
                  hx-target="#diagram-result"
                  hx-swap="innerHTML"
                  hx-indicator="#diagram-spinner">
                
                <input type="hidden" name="user_id" value="{{ current_user.id }}">
                
                <textarea name="prompt" class="w-full p-3 border rounded-lg text-right" rows="5" placeholder=": '爪专 转专砖 专 砖 转  砖转砖'"></textarea>

                <button type="submit" class="mt-6 w-full bg-capy-orange text-white font-bold py-3 px-5 rounded-lg shadow-sm hover:bg-opacity-90">
                     爪专 转专砖
                    <span id="diagram-spinner" class="htmx-indicator animate-spin">锔</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Result Card -->
    <div class="bg-white/80 p-6 rounded-2xl shadow-md min-h-[10rem]">
        <h3 class="text-lg font-semibold text-right mb-4">转专砖 砖:</h3>
        <div id="diagram-result" class="text-center text-ink-brown/60">
            <p>转专砖 驻注  专 爪专.</p>
        </div>
    </div>
</div>
{% endblock %}
